{"code":"export class LsError extends Error {\r\n    constructor(code, msg, detail) {\r\n        super(msg);\r\n        this.code = code;\r\n        this.msg = msg;\r\n        this.detail = detail;\r\n    }\r\n    toJson() {\r\n        return {\r\n            code: this.code,\r\n            msg: this.msg,\r\n            detail: this.detail\r\n        };\r\n    }\r\n}\r\nexport class LocalFinishProcess extends Error {\r\n    constructor(response_body) {\r\n        super('');\r\n        this.response_body = response_body;\r\n    }\r\n    get body() {\r\n        return this.response_body;\r\n    }\r\n}\r\nexport class FinishProcess extends Error {\r\n    constructor(_ctx, response_body) {\r\n        super('');\r\n        this._ctx = _ctx;\r\n        this.response_body = response_body;\r\n    }\r\n    get body() {\r\n        return this.response_body;\r\n    }\r\n    get ctx() {\r\n        return this._ctx;\r\n    }\r\n}\r\nexport function fm_panic(code, msg, detail) {\r\n    return new LsError(code, msg, detail);\r\n}\r\nexport function throw_fm_panic(code, msg, detail) {\r\n    throw new LsError(code, msg, detail);\r\n}\r\nexport function throw_local_panic(msg) {\r\n    throw new Error(msg);\r\n}\r\nexport function finish(ctx, data) {\r\n    throw new FinishProcess(ctx, data);\r\n}\r\n//# sourceMappingURL=error.js.map","references":["/Users/caojiahang/代码/tora/src/server/index.ts"],"map":"{\"version\":3,\"file\":\"error.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../src/error.ts\"],\"names\":[],\"mappings\":\"AAEA,MAAM,OAAO,OAAQ,SAAQ,KAAK;IAE9B,YAAqB,IAAY,EAAW,GAAW,EAAW,MAAY;QAC1E,KAAK,CAAC,GAAG,CAAC,CAAA;QADO,SAAI,GAAJ,IAAI,CAAQ;QAAW,QAAG,GAAH,GAAG,CAAQ;QAAW,WAAM,GAAN,MAAM,CAAM;IAE9E,CAAC;IAED,MAAM;QACF,OAAO;YACH,IAAI,EAAE,IAAI,CAAC,IAAI;YACf,GAAG,EAAE,IAAI,CAAC,GAAG;YACb,MAAM,EAAE,IAAI,CAAC,MAAM;SACtB,CAAA;IACL,CAAC;CACJ;AAED,MAAM,OAAO,kBAA8D,SAAQ,KAAK;IAEpF,YAAoB,aAAkB;QAClC,KAAK,CAAC,EAAE,CAAC,CAAA;QADO,kBAAa,GAAb,aAAa,CAAK;IAEtC,CAAC;IAED,IAAI,IAAI;QACJ,OAAO,IAAI,CAAC,aAAa,CAAA;IAC7B,CAAC;CACJ;AAED,MAAM,OAAO,aAAyD,SAAQ,KAAK;IAE/E,YAAoB,IAAa,EAAU,aAAkB;QACzD,KAAK,CAAC,EAAE,CAAC,CAAA;QADO,SAAI,GAAJ,IAAI,CAAS;QAAU,kBAAa,GAAb,aAAa,CAAK;IAE7D,CAAC;IAED,IAAI,IAAI;QACJ,OAAO,IAAI,CAAC,aAAa,CAAA;IAC7B,CAAC;IAED,IAAI,GAAG;QACH,OAAO,IAAI,CAAC,IAAI,CAAA;IACpB,CAAC;CACJ;AAED,MAAM,UAAU,QAAQ,CAAC,IAAY,EAAE,GAAW,EAAE,MAAY;IAC5D,OAAO,IAAI,OAAO,CAAC,IAAI,EAAE,GAAG,EAAE,MAAM,CAAC,CAAA;AACzC,CAAC;AAED,MAAM,UAAU,cAAc,CAAC,IAAY,EAAE,GAAW,EAAE,MAAY;IAClE,MAAM,IAAI,OAAO,CAAC,IAAI,EAAE,GAAG,EAAE,MAAM,CAAC,CAAA;AACxC,CAAC;AAED,MAAM,UAAU,iBAAiB,CAAC,GAAQ;IACtC,MAAM,IAAI,KAAK,CAAC,GAAG,CAAC,CAAA;AACxB,CAAC;AAED,MAAM,UAAU,MAAM,CAAwB,GAAM,EAAE,IAAS;IAC3D,MAAM,IAAI,aAAa,CAAC,GAAG,EAAE,IAAI,CAAC,CAAA;AACtC,CAAC\"}"}
