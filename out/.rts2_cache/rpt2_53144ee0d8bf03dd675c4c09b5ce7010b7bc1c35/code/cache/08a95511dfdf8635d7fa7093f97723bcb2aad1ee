{"code":"import { ValueProvider } from './provider';\r\nclass _NullInjector {\r\n    get(token, info) {\r\n        var _a;\r\n        throw new Error(`Can't find ${(_a = token === null || token === void 0 ? void 0 : token.name) !== null && _a !== void 0 ? _a : token} in NullInjector [${info}]`);\r\n    }\r\n}\r\nexport const NullInjector = new _NullInjector();\r\nexport class Injector {\r\n    constructor(parent, providers = new Map()) {\r\n        this.parent = parent;\r\n        this.providers = providers;\r\n    }\r\n    static create(parent, providers) {\r\n        providers = providers || new Map();\r\n        return new Injector(parent !== null && parent !== void 0 ? parent : NullInjector, providers);\r\n    }\r\n    set_provider(token, provider) {\r\n        this.providers.set(token, provider);\r\n    }\r\n    get(token, info) {\r\n        var _a;\r\n        if (token === Injector) {\r\n            if (!this.provider) {\r\n                this.provider = new ValueProvider('injector', this);\r\n            }\r\n            return this.provider;\r\n        }\r\n        return (_a = this.providers.get(token)) !== null && _a !== void 0 ? _a : this.parent.get(token, info);\r\n    }\r\n}\r\n//# sourceMappingURL=injector.js.map","references":["/Users/caojiahang/代码/tora/src/di/provider.ts"],"map":"{\"version\":3,\"file\":\"injector.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../src/di/injector.ts\"],\"names\":[],\"mappings\":\"AAAA,OAAO,EAAY,aAAa,EAAE,MAAM,YAAY,CAAA;AAEpD,MAAM,aAAa;IACf,GAAG,CAAC,KAAU,EAAE,IAAa;;QACzB,MAAM,IAAI,KAAK,CAAC,cAAc,MAAA,KAAK,aAAL,KAAK,uBAAL,KAAK,CAAE,IAAI,mCAAI,KAAK,qBAAqB,IAAI,GAAG,CAAC,CAAA;IACnF,CAAC;CACJ;AAED,MAAM,CAAC,MAAM,YAAY,GAAG,IAAI,aAAa,EAAE,CAAA;AAI/C,MAAM,OAAO,QAAQ;IAIjB,YACY,MAAoB,EACrB,YAA2B,IAAI,GAAG,EAAE;QADnC,WAAM,GAAN,MAAM,CAAc;QACrB,cAAS,GAAT,SAAS,CAA2B;IAE/C,CAAC;IAED,MAAM,CAAC,MAAM,CAAC,MAA4B,EAAE,SAAyB;QACjE,SAAS,GAAG,SAAS,IAAI,IAAI,GAAG,EAAE,CAAA;QAClC,OAAO,IAAI,QAAQ,CAAC,MAAM,aAAN,MAAM,cAAN,MAAM,GAAI,YAAY,EAAE,SAAS,CAAC,CAAA;IAC1D,CAAC;IAED,YAAY,CAAC,KAAU,EAAE,QAAuB;QAC5C,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAA;IACvC,CAAC;IAED,GAAG,CAAC,KAAU,EAAE,IAAa;;QACzB,IAAI,KAAK,KAAK,QAAQ,EAAE;YACpB,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE;gBAChB,IAAI,CAAC,QAAQ,GAAG,IAAI,aAAa,CAAC,UAAU,EAAE,IAAI,CAAC,CAAA;aACtD;YACD,OAAO,IAAI,CAAC,QAAQ,CAAA;SACvB;QACD,aAAO,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,KAAK,CAAC,mCAAI,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,KAAK,EAAE,IAAI,CAAC,CAAA;IACpE,CAAC;CACJ\"}"}
